<?xml version="1.0" encoding="UTF-8"?>
<hbase:beans xmlns:hbase="http://www.springframework.org/schema/beans"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <!--入库-->
    <hbase:bean id="xdr_data:ps_gn_http_event_K" class="com.example.data.entity.HBaseEntityImpl" scope="prototype">
        <hbase:constructor-arg name="tableName" value="xdr_data:ps_gn_http_event_K"/>
        <hbase:constructor-arg name="dataPath" value="/rawdata/xdr/gn/gn_http"/>
        <hbase:constructor-arg name="granularity" value="D"/>
        <hbase:constructor-arg name="delay" value="900000"/>
        <hbase:constructor-arg name="propertiesMap">
            <hbase:map key-type="java.lang.String" value-type="java.lang.String">
                <hbase:entry key="importtsv.columns" value="HBASE_ROW_KEY,cf"/>
                <!--HFILE_TMP_DIR="/tmp/hbload/${CV_TABLE_NAME}/${DAY}${HOUR}${MINUTE}"-->
                <hbase:entry key="importtsv.bulk.output1" value="/tmp/hbload"/>
                <!--<hbase:entry key="importtsv.value.encrypts" value="chars"/>-->
                <hbase:entry key="importtsv.mapper.class" value="com.example.service.mapreduce.TsvImporterPutMapper"/>
                <hbase:entry key="mapreduce.map.memory.mb" value="2048"/>
                <hbase:entry key="hbase.client.retries.number" value="10"/>
                <hbase:entry key="importtsv.rowkey.indexs" value="3,16"/>
                <hbase:entry key="importtsv.rowkey.strategies" value="r,ls|yyyyMMddHHmm"/>
                <hbase:entry key="importtsv.rowkey.encrypts" value=","/>
                <hbase:entry key="importtsv.separator" value="\|"/>
                <hbase:entry key="create.table" value="yes"/>
            </hbase:map>
        </hbase:constructor-arg>
        <!-- table constructor-->
        <hbase:property name="columns" value="cf"/>
        <hbase:property name="version" value="1"/>
        <hbase:property name="compressionType" value="snappy"/>
        <hbase:property name="ttl" value="10000"/>
        <hbase:property name="splitPolicy" value="org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy"/>
        <hbase:property name="spiltKeysFile" value="classpath:conf/hbase/table/splits.txt"/>
        <hbase:property name="coprocessor" value="org.apache.hadoop.hbase.coprocessor.AggregateImplementation"/>
    </hbase:bean>
    <!--2592000-->
    <!--可以不入库-->
    <hbase:bean id="xdr_data:ps_gn_http_event_job" class="com.example.data.entity.JobEntityImpl">
        <hbase:constructor-arg name="jobName" value="xdr_data:ps_gn_http_event_job"/>
        <hbase:constructor-arg name="tableEntity" ref="xdr_data:ps_gn_http_event_K"/>
    </hbase:bean>


</hbase:beans>